{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}Login to Snapora{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center animate__animated animate__fadeIn">
        <div class="col-md-8 col-lg-6">
            <div class="card border-0 shadow-lg">
                <div class="card-header bg-gradient-yellow text-white py-4">
                    <div class="d-flex align-items-center justify-content-center">
                        <i class="fas fa-sign-in-alt fa-2x me-3"></i>
                        <h2 class="mb-0 text-center">Welcome Back!</h2>
                    </div>
                </div>
                <div class="card-body p-5">
                    <form method="post" class="needs-validation" novalidate>
                        {% csrf_token %}
                        
                        <!-- Username -->
                        <div class="mb-4">
                            <label for="username" class="form-label fw-bold">
                                <i class="fas fa-user me-2"></i>Username or Email
                            </label>
                            <div class="input-group">
                                <span class="input-group-text bg-light">
                                    <i class="fas fa-at text-warning"></i>
                                </span>
                                <input type="text" class="form-control form-control-lg" id="username" 
                                       name="username" required placeholder="Enter your username or email">
                            </div>
                        </div>
                        
                        <!-- Password -->
                        <div class="mb-4">
                            <label for="password" class="form-label fw-bold">
                                <i class="fas fa-lock me-2"></i>Password
                            </label>
                            <div class="input-group">
                                <span class="input-group-text bg-light">
                                    <i class="fas fa-key text-warning"></i>
                                </span>
                                <input type="password" class="form-control form-control-lg" id="password" 
                                       name="password" required placeholder="Enter your password">
                                <button class="btn btn-outline-secondary toggle-password" type="button">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Submit -->
                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-warning btn-lg py-3 fw-bold shadow">
                                <i class="fas fa-sign-in-alt me-2"></i> Login Now
                            </button>
                        </div>
                        
                        <!-- Social Login -->
                        <div class="text-center mt-4">
                            <p class="mb-3 text-muted">Or login with</p>
                            <div class="d-flex justify-content-center gap-3">
                                <a href="#" class="btn btn-outline-warning rounded-circle social-login">
                                    <i class="fab fa-google"></i>
                                </a>
                                <a href="#" class="btn btn-outline-warning rounded-circle social-login">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="#" class="btn btn-outline-warning rounded-circle social-login">
                                    <i class="fab fa-twitter"></i>
                                </a>
                            </div>
                        </div>
                        
                        <!-- Signup Link -->
                        <div class="mt-4 pt-3 text-center border-top">
                            <p class="mb-0">New to Snapora? 
                                <a href="{% url 'users:signup' %}" class="fw-bold text-decoration-none text-warning">
                                    Create an account
                                </a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Why Join Section -->
            <div class="mt-4 p-4 bg-light rounded-3 animate__animated animate__fadeInUp animate__delay-1s">
                <h4 class="text-center mb-3">
                    <i class="fas fa-star text-warning me-2"></i>Why Join Snapora?
                </h4>
                <div class="row text-center">
                    <div class="col-md-4 mb-3">
                        <div class="p-3 bg-white rounded-3 h-100 shadow-sm hover-card">
                            <i class="fas fa-video text-warning fs-3 mb-2"></i>
                            <h5>Discover Videos</h5>
                            <p class="small">Explore millions of videos from creators worldwide</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="p-3 bg-white rounded-3 h-100 shadow-sm hover-card">
                            <i class="fas fa-upload text-warning fs-3 mb-2"></i>
                            <h5>Share Content</h5>
                            <p class="small">Upload and share your own videos with the community</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="p-3 bg-white rounded-3 h-100 shadow-sm hover-card">
                            <i class="fas fa-users text-warning fs-3 mb-2"></i>
                            <h5>Join Community</h5>
                            <p class="small">Connect with like-minded people and creators</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Styling -->
<style>
    :root {
        --yellow-light: #FFD43B;
        --yellow-dark: #FFC107;
        --yellow-accent: #FF9800;
    }

    .bg-gradient-yellow {
        background: linear-gradient(135deg, var(--yellow-light) 0%, var(--yellow-accent) 100%);
    }
    
    .social-login {
        width: 45px;
        height: 45px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }
    .social-login:hover {
        background-color: var(--yellow-dark);
        color: white !important;
        transform: translateY(-3px);
    }
    
    .toggle-password:hover {
        background-color: #e9ecef;
    }
    
    .card {
        border-radius: 15px;
        overflow: hidden;
    }
    
    .form-control-lg {
        padding: 12px 15px;
    }
    
    .btn-lg {
        padding: 12px 24px;
        font-size: 1.1rem;
    }

    .btn-warning {
        background-color: var(--yellow-dark);
        border-color: var(--yellow-dark);
        transition: background 0.3s ease;
    }
    .btn-warning:hover {
        background-color: var(--yellow-accent);
        border-color: var(--yellow-accent);
    }

    .hover-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .hover-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 20px rgba(255, 193, 7, 0.3);
    }
</style>

<!-- Password Toggle Script -->
<script>
    document.querySelectorAll('.toggle-password').forEach(button => {
        button.addEventListener('click', function() {
            const passwordInput = this.parentElement.querySelector('input');
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
        });
    });
</script>
{% endblock %}
